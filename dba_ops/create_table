CREATE TABLE `user_info` (
  `auto_id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID',
  `user_name` varchar(50) NOT NULL DEFAULT '' COMMENT '用户名',
  `database_name` varchar(10) NOT NULL DEFAULT 'mysqlread',
  `host` varchar(20) NOT NULL DEFAULT 'oracle' COMMENT '限制连接主机',
  `email` varchar(60) NOT NULL COMMENT '邮箱',
  `qq` varchar(20) NOT NULL COMMENT 'QQ号',
  `job_position` varchar(20) NOT NULL COMMENT '职位',
  `department_name` varchar(10) NOT NULL COMMENT '职级',
  `office_addr` varchar(20) NOT NULL COMMENT '办公地点',
  `mobile_phone` varchar(11) NOT NULL COMMENT '手机号',
  `is_lock` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否锁定',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`auto_id`),
  UNIQUE KEY `user_database` (`user_name`,`database_name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户基本信息表';

CREATE TABLE `user_privileges_info` (
  `auto_id` int(11) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID',
  `user_name` varchar(50) NOT NULL COMMENT '用户名',
  `schema_name` varchar(60) NOT NULL COMMENT 'schema名称',
  `table_name` varchar(50) NOT NULL COMMENT '表名',
  `privilege_type` varchar(30) NOT NULL DEFAULT 'select' COMMENT '权限类别',
  `database_name` varchar(50) NOT NULL COMMENT '数据库标识，lxods/kxods/mysqlread',
  `is_used` tinyint(4) NOT NULL DEFAULT '1' COMMENT '是否有效，过期后置为无效',
  `valid_time` smallint(6) NOT NULL DEFAULT '30' COMMENT '权限有效天数',
  `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  `update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
  PRIMARY KEY (`auto_id`),
  UNIQUE KEY `user_schema_table_pri_database` (`user_name`,`schema_name`,`table_name`,`privilege_type`,`database_name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户权限信息表';

